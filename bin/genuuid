#!/usr/bin/env bash

usage() {
  cat <<-EOF 1>&2
Generate uuid.

Usage: $0 [-d] [-h]

[-d] Keep dash
[-h] Show help
EOF
  exit 1
}

while getopts "hd" opt; do
  case "$opt" in
    e)
      keepdash=1
      ;;
    *)
      usage
      ;;
  esac
done

uuid=$(ruby -e "require 'securerandom'; puts SecureRandom.uuid")
if [[ -n "$keepdash" ]]; then
  echo $uuid
else
  echo $uuid | sed -e 's/\-//g'
fi

#!/usr/bin/env bash

set -eo pipefail

usage() {
  cat <<-EOF 1>&2
Wrapper for du utility that reports file system disk space usage. Pass in '-'
to call the original.

Global options:

  [-h] Show help
EOF
  exit 1
}

source ~/.dotfiles/scripts/lib/path.sh
PATH="$(new_path_exclude ~/.dotfiles/bin)"

case "$1" in
  -)
    shift
    df "$@"
    ;;
  -h)
    usage
    ;;
  *)
    df -H
    ;;
esac
